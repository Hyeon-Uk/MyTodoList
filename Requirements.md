# 기능 / 비기능 요구사항 정리

## 🔨 기능 요구사항   

- 유저
  - <span id='login'>로그인</span>
    - 아이디입력, 비밀번호 입력, 비밀번호 찾기 링크, 회원가입 링크, 로그인버튼이 존재하는 페이지를 제공해야함
    - 비밀번호 찾기 링크를 클릭하면 <a href='#findPass'>비밀번호 찾기 서비스</a>를 제공하는 페이지를 제공해야함
    - 회원가입 링크를 클릭하면 <a href='#join'>회원가입 서비스</a>를 제공하는 페이지를 제공해야함
    - 아이디 혹은 비밀번호가 일치하지 않다면 "회원 정보가 일치하지 않습니다. 로그인 3회 실패 시 계정이 잠기게됩니다." 메세지를 출력해야함
    - 로그인 성공
      - 이메일 인증이 되지 않은 계정이라면 이메일인증이 되지않았다는 페이지와 인증메일 다시보내기 버튼이 존재하는 페이지로 이동
      - 이메일 인증이 된 계정이면 세션에 인증정보 저장 후 <a href='#main'>메인화면</a>으로 이동
  - <span id='join'>회원가입</span>
    - 회원가입 이용약관을 체크하는 Form이 존재해야함
    - 아이디 입력, 이메일 입력, 이름 입력, 비밀번호 입력, 비밀번호 확인 입력, 취소버튼, 가입하기 버튼이 존재하는 회원가입 페이지 제공
    - 아이디 : 5~20자의 영문 소문자, 대문자, 숫자만 사용이 가능합니다. 이미 존재하는 아이디일시 가입 불가
    - 이메일 : 가입되지않은 이메일이면서 존재하는 이메일로 가입해야합니다. (가입시 이메일 인증 및 이메일로 소식 발송을 위함)
    - 비밀번호 : 8~16자의 소문자, 대문자, 숫자, 특수문자로 구성되어야 합니다. (모두 한번이상 포함해야함)
    - 비밀번호 확인 : 위에 입력한 비밀번호와 일치해야함
    - 취소버튼 : 로그인화면으로 이동해야함
    - 가입하기 버튼 : 약관 동의, 아이디, 이메일, 비밀번호, 비밀번호 확인의 Validation 후 서버로 가입 정보 전송. 서버측에서도 유효성 검사 필수
      - 가입 성공시 성공 안내문구와 함께 <a href='#login'>로그인화면</a>으로 이동
      - 가입 실패시 실패 안내 문구를 출력


## ⛏ 비기능 요구사항
- 공통
  - XSS Filtering
    - 모든 입력값에 XSS Filtering 적용
    - 모든 출력값에 XSS Filtering 적용
- 유저
  - <span id='login_nf'>로그인</span>
    - 로그인 3회 실패 시
      - 해당 계정을 3분간 Block 및 가입된 계정으로 비정상적인 접근 감지 이메일 발송
      - 서버측 로그에 Block당하기 전 마지막 접근 IP주소를 남김
  - <span id='join_nf'>회원가입</span>
    - 회원가입 성공 시 입력받은 비밀번호를 SHA256 + SALT 단방향 암호화 알고리즘을 사용하여 저장.
    - 해당 SALT값도 DB테이블에 저장
    - Try Count(로그인 시도 횟수)를 0, BlockTime를 null로 초기값 셋팅
    - 인증코드를 인증할 수 있는 링크를 생성한 뒤, 인증코드를 DB에 저장한 후 인증 링크를 해당 Email로 전송
    - 위의 모든 과정을 한 트랜잭션안에서 실행해야함. 하나라도 실패시 회원가입 실패(Rollback 시킴)
